<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <script>
      var id = getQueryVariable('id');
      var file = 'callback_coffee_' + id + '.js';
      function load(){
        var script = document.createElement('script');
        script.setAttribute('type', 'text/javascript');
        script.setAttribute('src', file);        
        window.addEventListener('error', function(error){
          console.log(error);
          var div = document.getElementById('log')
          div.innerHTML = `<span style='color: red'>${error.message}</span>`;
        });        
        document.head.appendChild(script);  
      }
      function getQueryVariable(variable)
      {
        var query = window.location.search.substring(1);
        var vars = query.split("&");
        for (var i=0;i<vars.length;i++) {
          var pair = vars[i].split("=");
          if(pair[0] == variable){return pair[1];}
        }
        return(false);
      }
    </script>
    <script src="//ajax.googleapis.com/ajax/libs/dojo/1.10.4/dojo/dojo.js"
            data-dojo-config="async: true"></script>

  </head>
  <body>
    <div class="container">

      <h1>Codelog <button onclick="load()" type="button" class="btn btn-primary">run</button></h1>
      
      <pre id="log" class="pre-scrollable" style="margin-top:10px;"></pre>    
      
    </div>
  </body>
  
</html>